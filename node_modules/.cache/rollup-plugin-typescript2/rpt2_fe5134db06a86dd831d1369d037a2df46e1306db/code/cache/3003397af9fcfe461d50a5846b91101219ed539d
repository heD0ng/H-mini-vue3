{"code":"// import { isObject } from \"@vue/shared\";\r\nimport { isObject } from \"../../shared/src/index\";\r\nimport { reactiveHandler, shallowReactiveHandler, readonlyHandler, shallowReadonlyHandler } from './baseHandler';\r\nexport var reactive = function (target) {\r\n    return createReactiveObj(target, false, reactiveHandler);\r\n};\r\nexport var shallowReactive = function (target) {\r\n    return createReactiveObj(target, false, shallowReactiveHandler);\r\n};\r\nexport var readonly = function (target) {\r\n    return createReactiveObj(target, true, readonlyHandler);\r\n};\r\nexport var shallowReadonly = function (target) {\r\n    return createReactiveObj(target, true, shallowReadonlyHandler);\r\n};\r\n/**\r\n *\r\n * @param target: 代理的数据\r\n * @param isReadonly：是否只读\r\n * @param baseHandler：Proxy对应的handler对象\r\n */\r\nvar reactiveMap = new WeakMap();\r\nvar readonlyMap = new WeakMap();\r\nfunction createReactiveObj(target, isReadonly, baseHandler) {\r\n    // 利用get属性也可以处理递归;\r\n    // if(target.__isProxy__) return target;\r\n    if (!isObject(target)) {\r\n        return target;\r\n    }\r\n    var proxyMap = isReadonly ? readonlyMap : reactiveMap;\r\n    if (proxyMap.get(target)) {\r\n        return proxyMap.get(target);\r\n    }\r\n    var proxy = new Proxy(target, baseHandler);\r\n    proxyMap.set(target, proxy);\r\n    return proxy;\r\n}\r\n//# sourceMappingURL=reactive.js.map","references":["D:/frontEnd/Vue3/mini-Vue3/packages/shared/src/index.ts","D:/frontEnd/Vue3/mini-Vue3/packages/reactivity/src/baseHandler.ts"],"map":"{\"version\":3,\"file\":\"reactive.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../packages/reactivity/src/reactive.ts\"],\"names\":[],\"mappings\":\"AAAA,0CAA0C;AAC1C,OAAO,EAAE,QAAQ,EAAE,MAAM,wBAAwB,CAAC;AAClD,OAAO,EAAC,eAAe,EAAE,sBAAsB,EAAE,eAAe,EAAE,sBAAsB,EAAC,MAAM,eAAe,CAAA;AAE9G,MAAM,CAAC,IAAM,QAAQ,GAAG,UAAC,MAAW;IAChC,OAAO,iBAAiB,CAAC,MAAM,EAAE,KAAK,EAAE,eAAe,CAAC,CAAA;AAC5D,CAAC,CAAA;AACD,MAAM,CAAC,IAAM,eAAe,GAAG,UAAC,MAAW;IACvC,OAAO,iBAAiB,CAAC,MAAM,EAAE,KAAK,EAAE,sBAAsB,CAAC,CAAA;AACnE,CAAC,CAAA;AAED,MAAM,CAAC,IAAM,QAAQ,GAAG,UAAC,MAAM;IAC3B,OAAO,iBAAiB,CAAC,MAAM,EAAE,IAAI,EAAE,eAAe,CAAC,CAAA;AAC3D,CAAC,CAAA;AACD,MAAM,CAAC,IAAM,eAAe,GAAG,UAAC,MAAW;IACvC,OAAO,iBAAiB,CAAC,MAAM,EAAE,IAAI,EAAE,sBAAsB,CAAC,CAAA;AAClE,CAAC,CAAA;AAED;;;;;GAKG;AACH,IAAM,WAAW,GAAG,IAAI,OAAO,EAAE,CAAC;AAClC,IAAM,WAAW,GAAG,IAAI,OAAO,EAAE,CAAA;AACjC,SAAS,iBAAiB,CAAC,MAAM,EAAE,UAAU,EAAE,WAAW;IACtD,kBAAkB;IAClB,wCAAwC;IACxC,IAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;QAClB,OAAO,MAAM,CAAC;KACjB;IACD,IAAM,QAAQ,GAAG,UAAU,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC;IACxD,IAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;QACrB,OAAO,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;KAC/B;IACD,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;IAC7C,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAC5B,OAAO,KAAK,CAAC;AACjB,CAAC\"}"}
